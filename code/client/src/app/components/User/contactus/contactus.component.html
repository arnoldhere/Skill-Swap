<app-navbar></app-navbar>

<section class="contact-us" @fadeIn>
  <div class="container">
    <h2>Contact <span>SkillSwap</span></h2>
    <p>Have any questions or feedback? Feel free to reach out!</p>

    <!-- Contact Form -->
    <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
      <div class="form-group">
        <label for="subject">Subject</label>
        <input type="text" id="subject" formControlName="subject" placeholder="Enter the subject" [ngClass]="{
            invalid: contactForm.controls['subject'].invalid && contactForm.controls['subject'].touched
          }" />
        <small *ngIf="contactForm.controls['subject'].invalid && contactForm.controls['subject'].touched" class="error">
          Subject is required and should be between 3-100 characters.
        </small>
      </div>

      <div class="form-group">
        <label for="message">Message</label>
        <textarea id="message" rows="5" formControlName="message" placeholder="Enter your message" [ngClass]="{
            invalid: contactForm.controls['message'].invalid && contactForm.controls['message'].touched
          }"></textarea>
        <small *ngIf="contactForm.controls['message'].invalid && contactForm.controls['message'].touched" class="error">
          Message is required and should be between 10-500 characters.
        </small>
      </div>

      <!-- ⭐️ Rating Section -->
      <div class="form-group rating-group">
        <label for="rating">Rate Your Experience</label>
        <div class="star-rating">
          <i *ngFor="let star of stars; let i = index" class="star"
            [class.filled]="i < contactForm.controls['rating'].value" (click)="setRating(i + 1)">
            ★
          </i>
        </div>
        <small *ngIf="contactForm.controls['rating'].invalid && contactForm.controls['rating'].touched" class="error">
          Please select a rating between 1 and 5.
        </small>
      </div>
      <button type="submit" [disabled]="isSubmitting">
        {{ isSubmitting ? 'Submitting...' : 'Send Message' }}
      </button>
    </form>
  </div>
</section>
<app-footer></app-footer>

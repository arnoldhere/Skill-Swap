<app-navbar></app-navbar>
<div class="add-skill-form">
  <h2>Add New Skill</h2>
  <form [formGroup]="skillForm" (ngSubmit)="submit()" enctype="multipart/form-data">
    <!-- Category Dropdown -->
    <div class="form-group">
      <label for="category">Skill Category</label>
      <select formControlName="category" id="category">
        <option value="" disabled>Select a category</option>
        <option *ngFor="let cat of categories" [value]="cat._id">{{ cat.name }}</option>
      </select>
      <small *ngIf="skillForm.get('category')?.invalid && skillForm.get('category')?.touched">
        Category is required.
      </small>
    </div>

    <!-- Fees input: FIXED with formControlName -->
    <div class="form-group">
      <label for="fees">Fees (â‚¹/day)</label>
      <input type="number" id="fees" formControlName="fees" required placeholder="Enter your fees/charges" />
      <small *ngIf="skillForm.get('fees')?.invalid && skillForm.get('fees')?.touched">
        Enter your fees.
      </small>
    </div>

    <!-- PDF input: slight adjustment to track validity better -->
    <div class="form-group">
      <label for="pdf">Upload Skill Certificate (PDF)</label>
      <input type="file" id="pdf" (change)="onFileSelected($event)" accept="application/pdf" />
      <small *ngIf="skillForm.get('pdf')?.invalid">
        PDF is required or invalid.
      </small>
    </div>


    <button type="submit" class="submit-btn">Submit</button>
  </form>
</div>
<app-footer></app-footer>

<div class="profile-container">
  <header class="profile-header">
    <div class="avatar-container">
      <img [src]="userProfile.avatar" alt="Profile Picture" class="avatar" />
      <div class="online-status" [class.active]="userProfile.isOnline"></div>
    </div>
    <div class="user-info">
      <h1>{{userProfile.name}}</h1>
      <p class="bio">{{userProfile.bio}}</p>
      <div class="location">
        <i class="fas fa-map-marker-alt"></i>
        {{userProfile.location}}
      </div>
    </div>
  </header>

  <div class="completion-bar">
    <div class="progress" [style.width.%]="profileCompletion"></div>
    <span>Profile Completion: {{profileCompletion}}%</span>
  </div>

  <nav class="skills-nav">
    <button [class.active]="activeTab === 'mySkills'" (click)="switchTab('mySkills')">My Skills</button>
    <button [class.active]="activeTab === 'wantToLearn'" (click)="switchTab('wantToLearn')">Want to Learn</button>
  </nav>

  <div class="skills-container" [@tabAnimation]="activeTab">
    <div *ngIf="activeTab === 'mySkills'" class="skills-grid">
      <div *ngFor="let skill of mySkills" class="skill-card" [class]="'level-' + skill.level" cdkDraggable>
        <h3>{{skill.name}}</h3>
        <div class="proficiency-bar">
          <div class="progress" [style.width.%]="skill.proficiency"></div>
        </div>
        <div class="endorsements">
          <span>{{skill.endorsements}} endorsements</span>
        </div>
      </div>
    </div>

    <div *ngIf="activeTab === 'wantToLearn'" class="skills-grid">
      <div *ngFor="let skill of wantToLearn" class="skill-card wanted" cdkDraggable>
        <h3>{{skill.name}}</h3>
        <div class="match-percentage">{{skill.matchPercentage}}% match</div>
      </div>
    </div>
  </div>

  <div class="stats-container">
    <div class="chart-container">
      <apx-chart [series]="chartOptions.series" [chart]="chartOptions.chart" [xaxis]="chartOptions.xaxis" [title]="chartOptions.title"></apx-chart>
    </div>
  </div>

  <div class="achievements">
    <h2>Achievements</h2>
    <div class="badges-grid">
      <div *ngFor="let badge of achievements" class="badge-card" [class.unlocked]="badge.unlocked">
        <img [src]="badge.icon" [alt]="badge.name" />
        <span>{{badge.name}}</span>
      </div>
    </div>
  </div>
</div>
